<div class="container py-5">
  
  <div class="mb-4">
    <button (click)="goBack()" class="btn btn-light rounded-circle shadow-sm p-2" title="Back">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-arrow-left" viewBox="0 0 16 16">
        <path fill-rule="evenodd" d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"/>
      </svg>
    </button>
  </div>

  @if (employee) {
    <div class="card border-0 shadow-lg overflow-hidden mx-auto" style="max-width: 800px; border-radius: 15px;">
      
      <div class="bg-primary bg-black text-white p-5 text-center position-relative">
        
        <div class="avatar-circle mx-auto mb-3 shadow">
          {{ getInitials(employee.fullName) }}
        </div>
        
        <h2 class="fw-bold mb-1">{{ employee.fullName }}</h2>
        <p class="opacity-90 mb-3">@ {{ employee.userName }}</p>

        <div class="d-flex justify-content-center gap-2">
          @for (role of employee.roles; track role.id) {
            <span class="badge bg-white text-black rounded-pill px-3 py-2 shadow-sm">
              {{ role.name }}
            </span>
          } @empty {
            <span class="badge bg-white text-secondary rounded-pill">No Role Assigned</span>
          }
        </div>
      </div>

      <div class="card-body p-4 p-md-5">
        <div class="row g-4">
          
          <div class="col-md-6 border-end-md">
            <h6 class="text-uppercase text-muted fw-bold mb-4">Contact Information</h6>
            
            <div class="mb-3">
              <label class="d-block text-secondary small">Email Address</label>
              <div class="fw-bold text-dark">{{ employee.email }}</div>
            </div>

            <div class="mb-3">
              <label class="d-block text-secondary small">Phone Number</label>
              <div class="fw-bold text-dark">{{ employee.phoneNumber }}</div>
            </div>

            <div class="mb-3">
              <label class="d-block text-secondary small">Address</label>
              <div class="fw-bold text-dark">{{ employee.address }}</div>
            </div>
          </div>

          <div class="col-md-6 ps-md-4">
            <h6 class="text-uppercase text-muted fw-bold mb-4">Employment Details</h6>

            <div class="mb-3">
              <label class="d-block text-secondary small">Hire Date</label>
              <div class="fw-semibold text-dark">
                {{ employee.hireDate | date:'mediumDate' }}
              </div>
            </div>

            <div class="mb-3">
              <label class="d-block text-secondary small">Date of Birth</label>
              <div class="fw-semibold text-dark">
                {{ employee.birthdate | date:'mediumDate' }}
              </div>
            </div>

            <div class="mb-3">
              <label class="d-block text-secondary small">Current Salary</label>
              <div class="fw-bold fs-5">
                {{ employee.salary | currency:'EGP ':'symbol':'1.0-0' }}
              </div>
            </div>
          </div>

        </div>
      </div>

      <div class="card-footer bg-light p-4 d-flex justify-content-end border-top-0">
        <a [routerLink]="['/manage/employees/edit', employee.id]" class="btn btn-dark px-4 py-2 rounded-pill shadow-sm">
          <i class="bi bi-pencil-square me-2"></i> Edit Profile
        </a>
      </div>

    </div>
  } @else {
    <div class="text-center py-5 text-muted">
      <div class="spinner-border text-primary mb-3" role="status"></div>
      <p>Loading employee profile...</p>
    </div>
  }
</div>